{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nconst apiURL = 'https://gwpadmin.codewrangler.io/api/gwp/v1';\nexport default class WordpressService {\n  async fetchWhitepapers(items, offset, topics = [], tags = [], format = '', agencies = [], search = '', start_date = '', end_date = '', sort_by = 'relevance', user_id = '', organization_id = '') {\n    const res = await fetch(`${apiURL}/whitepapers/?items=${items}&offset=${offset}&topics=${topics}&tags=${tags}&format=${format}&agencies=${agencies}&s=${search}&start_date=${start_date}&end_date=${end_date}&sort_by=${sort_by}&user_id=${user_id}&organization_id=${organization_id}`);\n    const whitepapers = await res.json();\n    return whitepapers;\n  }\n\n  async fetchSavedSearch(id) {\n    const res = await fetch(`${apiURL}/saved-search/${id}`);\n    const search = await res.json();\n    return search;\n  }\n\n  async fetchSavedSearches(user_id, access_token) {\n    const url = `${apiURL}/saved-searches/`;\n    const json = JSON.stringify({\n      \"access_token\": access_token,\n      \"user_id\": user_id\n    });\n    const res = await fetch(url, {\n      method: 'post',\n      body: json,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const saved_searches = await res.json();\n    return saved_searches;\n  }\n\n  async fetchWhitepaper(slug) {\n    const res = await fetch(`${apiURL}/whitepapers/${slug}`);\n    const whitepaper = await res.json();\n    return whitepaper;\n  }\n\n  async fetchPosts(items, offset, search = '') {\n    const res = await fetch(`${apiURL}/posts/?items=${items}&offset=${offset}&s=${search}`);\n    const posts = await res.json();\n    return posts;\n  }\n\n  async fetchSlides() {\n    const res = await fetch(`${apiURL}/slides`);\n    const slides = await res.json();\n    return slides;\n  }\n\n  async fetchPost(slug) {\n    const res = await fetch(`${apiURL}/posts/${slug}`);\n    const post = await res.json();\n    return post;\n  }\n\n  async fetchPage(slug) {\n    const res = await fetch(`${apiURL}/pages/${slug}`);\n    const page = await res.json();\n    return page;\n  }\n\n  async fetchFormats() {\n    const res = await fetch(`${apiURL}/formats/`);\n    const formats = await res.json();\n    return formats;\n  }\n\n  async fetchTopics() {\n    const res = await fetch(`${apiURL}/topics/`);\n    const topics = await res.json();\n    return topics;\n  }\n\n  async fetchTopic(slug) {\n    const res = await fetch(`${apiURL}/topic/${slug}`);\n    const topic = await res.json();\n    return topic;\n  }\n\n  async fetchTags() {\n    const res = await fetch(`${apiURL}/tags/`);\n    const tags = await res.json();\n    return tags;\n  }\n\n  async fetchStats() {\n    const res = await fetch(`${apiURL}/fetch-stats/`);\n    const stats = await res.json();\n    return stats;\n  }\n\n  async fetchTeam() {\n    const res = await fetch(`${apiURL}/team/`);\n    const team = await res.json();\n    return team;\n  }\n\n  async fetchAgencies(parent) {\n    let res;\n\n    if (parent == '') {\n      res = await fetch(`${apiURL}/agencies/?orderby=name`);\n    } else {\n      res = await fetch(`${apiURL}/agencies/?parent=${parent}`);\n    }\n\n    const agencies = await res.json();\n    return agencies;\n  }\n\n  async searchOrganizations(search, items = 10) {\n    if (search == '') {\n      return [];\n    }\n\n    const res = await fetch(`${apiURL}/organizations/?search=${search}&items=${items}`);\n    const orgs = await res.json();\n    return orgs;\n  }\n\n  async fetchOrganization(id) {\n    if (id == '') {\n      return false;\n    }\n\n    const res = await fetch(`${apiURL}/organizations/${id}`);\n    const org = await res.json();\n    return org;\n  }\n\n  async fetchFavorites(access_token, items, offset) {\n    const url = `${apiURL}/favorites/`;\n    const json = JSON.stringify({\n      \"access_token\": access_token,\n      \"items\": items,\n      \"offset\": offset\n    });\n    const res = await fetch(url, {\n      method: 'post',\n      body: json,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const whitepapers = await res.json();\n    return whitepapers;\n  }\n\n  async fetchOrganizationMembers(access_token) {\n    const url = `${apiURL}/organization-members/`;\n    const json = JSON.stringify({\n      \"access_token\": access_token\n    });\n    const res = await fetch(url, {\n      method: 'post',\n      body: json,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const members = await res.json();\n    return members;\n  }\n\n  async checkFavorite(id, token) {\n    //\tconst res = await fetch(`${apiURL}/is-favorite/`)\n    const url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/is-favorite';\n    const json = JSON.stringify({\n      \"ID\": id,\n      \"access_token\": token\n    });\n    const res = await fetch(url, {\n      method: 'post',\n      body: json,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const r = await res.json();\n    return r;\n  }\n\n  async getUser(token) {\n    if (!token) {\n      return false;\n    }\n\n    const url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/user';\n    const json = JSON.stringify({\n      \"access_token\": token\n    });\n    const res = await fetch(url, {\n      method: 'post',\n      body: json,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const r = await res.json();\n    return r;\n  } // async fetchHomeSlides() {\n  // \tconst res = await fetch(`${apiURL}/home-slides?items=4`)\n  // \tconst slides = await res.json()\n  //\n  // \treturn slides\n  // }\n\n\n}","map":null,"metadata":{},"sourceType":"module"}