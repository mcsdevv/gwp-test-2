{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport teamCardStyles from '../public/styles/modules/components/teamcard.module.css';\nimport TeamModal from '../components/TeamModal';\nimport Link from 'next/link';\nimport { decodeHTML } from 'entities';\n\nclass TeamCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"_handleEscape\", e => {\n      if (e.which == 27) {\n        this._toggleModal();\n      }\n    });\n\n    _defineProperty(this, \"_handleClick\", e => {\n      console.log(e);\n      console.log('click');\n      e.preventDefault();\n\n      if (e.target.hasAttribute('data-close-modal')) {\n        this._toggleModal();\n      }\n    });\n\n    _defineProperty(this, \"_modalShowClass\", () => {\n      return this.state.modal_open;\n    });\n\n    _defineProperty(this, \"_toggleModal\", () => {\n      this.setState(state => ({\n        modal_open: !state.modal_open\n      }));\n    });\n\n    this.state = {\n      modal_open: false\n    };\n  }\n\n  componentDidUpdate() {\n    const {\n      modal_open\n    } = this.state; // console.log(modal_open);\n\n    let html = document.querySelector('html');\n\n    if (modal_open) {\n      window.addEventListener('keydown', this._handleEscape);\n      window.addEventListener('click', this._handleClick);\n      html.classList.add('active-modal');\n      html.classList.add('team');\n    } else {\n      window.removeEventListener('keydown', this._handleEscape);\n      window.removeEventListener('click', this._handleClick);\n      html.classList.remove('active-modal');\n      html.classList.remove('team');\n    }\n  }\n\n  _renderProfileImage() {\n    //console.log(this.props.featured_media);\n    if (this.props.featured_media !== false) {\n      if (this.props.featured_media.sizes.hasOwnProperty('square')) {\n        return __jsx(\"img\", {\n          src: this.props.featured_media.sizes.square.file,\n          className: teamCardStyles.avatar,\n          alt: \"\"\n        });\n      } else {\n        return __jsx(\"img\", {\n          src: this.props.featured_media.file,\n          className: teamCardStyles.avatar,\n          alt: \"\"\n        });\n      }\n    } else {\n      return __jsx(\"img\", {\n        src: \"/images/team-default.jpg\",\n        className: teamCardStyles.avatar,\n        alt: \"\"\n      });\n    }\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: `teamBlockJS ${teamCardStyles.teamBlock}`\n    }, __jsx(\"a\", {\n      onClick: () => {\n        this._toggleModal();\n      }\n    }, this._renderProfileImage()), __jsx(\"h6\", null, this.props.position), __jsx(\"a\", {\n      className: teamCardStyles.name,\n      onClick: () => {\n        this._toggleModal();\n      }\n    }, __jsx(\"h3\", null, this.props.title)), __jsx(\"p\", {\n      className: \"match-height\"\n    }, this.props.excerpt), __jsx(\"a\", {\n      onClick: () => {\n        this._toggleModal();\n      },\n      className: teamCardStyles.more\n    }, \"Read more \", __jsx(\"img\", {\n      className: teamCardStyles.linkArrow,\n      src: \"/images/right-arrow-blue.svg\",\n      alt: \"\"\n    }))), __jsx(TeamModal, {\n      modal_open: this.state.modal_open,\n      blur: this.state.modal_open,\n      title: this.props.title,\n      position: this.props.position,\n      content: this.props.content,\n      toggle: () => this._toggleModal(),\n      description: this.props.description,\n      fun_fact: this.props.fun_fact,\n      featured_media: this.props.featured_media\n    }));\n  }\n\n}\n\nexport default TeamCard;","map":null,"metadata":{},"sourceType":"module"}