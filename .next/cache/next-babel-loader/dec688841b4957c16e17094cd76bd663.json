{"ast":null,"code":"var _jsxFileName = \"/home/edward/Projects/gov/gwp-test/components/LoginModal.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport loginModalStyles from '../public/styles/modules/components/loginmodal.module.css';\nimport Link from 'next/link';\nimport Cookies from 'js-cookie';\n\nclass LoginModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"_handleEscape\", e => {\n      if (e.which == 27) {\n        this.props.toggle();\n      }\n    });\n\n    _defineProperty(this, \"_handleClick\", e => {\n      e.preventDefault();\n\n      if (e.target.hasAttribute('data-close-modal')) {\n        this.props.toggle();\n      }\n    });\n\n    _defineProperty(this, \"_forgotPassword\", () => {\n      this.props.toggle();\n    });\n\n    _defineProperty(this, \"_processLogin\", () => {\n      let button, govButton, json, url, login, emailField, passField;\n      emailField = document.querySelector('input[name=\"email\"]');\n      passField = document.querySelector('input[name=\"pass\"]');\n\n      if (!emailField.checkValidity()) {\n        emailField.classList.add('invalid');\n        return false;\n      } else {\n        emailField.classList.remove('invalid');\n      }\n\n      if (!passField.checkValidity()) {\n        passField.classList.add('invalid');\n        return false;\n      } else {\n        passField.classList.remove('invalid');\n      }\n\n      button = document.querySelector('.js-login');\n      govButton = document.querySelector('.js-login-govevents');\n      login = this;\n      url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/manual-user-login';\n      json = JSON.stringify({\n        \"email\": this.state.email,\n        \"pass\": this.state.pass\n      });\n      button.disabled = true;\n      govButton.disabled = true;\n      login.setState({\n        working: true\n      });\n      fetch(url, {\n        method: 'post',\n        body: json,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        setTimeout(function (e) {\n          button.disabled = false;\n          govButton.disabled = false;\n          let flat = JSON.stringify(data);\n\n          if (flat.includes('error')) {\n            login.setState({\n              error: data.message,\n              working: false\n            });\n            return false;\n          }\n\n          Cookies.set('user', JSON.stringify(data));\n          login.setState(() => ({\n            error: '',\n            working: false,\n            email: '',\n            pass: ''\n          }), () => {\n            login.props.toggle();\n            window.location.reload();\n          });\n        }, 1000);\n      });\n    });\n\n    _defineProperty(this, \"_processGovEventsLogin\", () => {\n      let button, govButton, json, url, login, emailField, passField;\n      emailField = document.querySelector('input[name=\"email\"]');\n      passField = document.querySelector('input[name=\"pass\"]');\n\n      if (!emailField.checkValidity()) {\n        emailField.classList.add('invalid');\n        return false;\n      } else {\n        emailField.classList.remove('invalid');\n      }\n\n      if (!passField.checkValidity()) {\n        passField.classList.add('invalid');\n        return false;\n      } else {\n        passField.classList.remove('invalid');\n      }\n\n      button = document.querySelector('.js-login');\n      govButton = document.querySelector('.js-login-govevents');\n      login = this;\n      url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/govevents-user-login';\n      json = JSON.stringify({\n        \"email\": this.state.email,\n        \"pass\": this.state.pass\n      });\n      button.disabled = true;\n      govButton.disabled = true;\n      login.setState({\n        working: true\n      });\n      fetch(url, {\n        method: 'post',\n        body: json,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n        setTimeout(function (e) {\n          button.disabled = false;\n          govButton.disabled = false;\n          let flat = JSON.stringify(data);\n\n          if (flat.includes('error')) {\n            login.setState({\n              error: data.message,\n              working: false\n            });\n            return false;\n          }\n\n          Cookies.set('user', JSON.stringify(data));\n          login.setState(() => ({\n            error: '',\n            working: false,\n            email: '',\n            pass: ''\n          }), () => {\n            login.props.toggle();\n            window.location.reload();\n          });\n        }, 1000);\n      });\n    });\n\n    _defineProperty(this, \"_renderModalClass\", () => {\n      const {\n        open\n      } = this.props;\n\n      if (open) {\n        return `${loginModalStyles.wrap} ${loginModalStyles.open}`;\n      } else {\n        return `${loginModalStyles.wrap}`;\n      }\n    });\n\n    this.state = {\n      email: '',\n      pass: '',\n      error: '',\n      working: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    let name = event.target.getAttribute('name');\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  componentDidUpdate() {\n    const {\n      open\n    } = this.props;\n    const {\n      working\n    } = this.state;\n    let html = document.querySelector('html');\n\n    if (open) {\n      window.addEventListener('keydown', this._handleEscape);\n      window.addEventListener('click', this._handleClick);\n      html.classList.add('active-modal');\n    } else {\n      window.removeEventListener('keydown', this._handleEscape);\n      window.removeEventListener('click', this._handleClick);\n      html.classList.remove('active-modal');\n    }\n\n    if (working) {\n      html.classList.add('working');\n    } else {\n      html.classList.remove('working');\n    }\n  }\n\n  render() {\n    const {\n      email,\n      pass,\n      error\n    } = this.state;\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: this._renderModalClass(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 4\n      }\n    }, __jsx(\"div\", {\n      className: `row ${loginModalStyles.header}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 5\n      }\n    }, __jsx(\"div\", {\n      className: \"small-6 columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 6\n      }\n    }, __jsx(\"img\", {\n      className: loginModalStyles.logo,\n      src: \"/images/logo.svg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 7\n      }\n    })), __jsx(\"div\", {\n      className: \"small-6 columns text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 6\n      }\n    }, __jsx(\"button\", {\n      className: loginModalStyles.close,\n      onClick: e => {\n        this.props.toggle();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }\n    }, __jsx(\"img\", {\n      src: \"/images/close.svg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 8\n      }\n    })))), __jsx(\"div\", {\n      className: `${loginModalStyles.login}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 5\n      }\n    }, __jsx(\"div\", {\n      className: \"row text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 6\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 7\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 8\n      }\n    }, \"Welcome\"), __jsx(\"img\", {\n      className: loginModalStyles.hr,\n      src: \"/images/sep.svg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 8\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 8\n      }\n    }, \"Sign in to access GovWhitePapers.\"))), __jsx(\"div\", {\n      className: `${loginModalStyles.form}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 6\n      }\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 8\n      }\n    }, __jsx(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }\n    }, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 10\n      }\n    }, \"Email Address\", __jsx(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      placeholder: \"Type your email\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }\n    })), __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 10\n      }\n    }, \"Password\", __jsx(\"input\", {\n      type: \"password\",\n      name: \"pass\",\n      onChange: this.handleChange,\n      value: this.state.pass,\n      placeholder: \"Type your password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      className: loginModalStyles.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 10\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }\n    }, this.state.error)), __jsx(Link, {\n      href: \"/password-reset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 10\n      }\n    }, __jsx(\"a\", {\n      onClick: this._forgotPassword,\n      className: loginModalStyles.forgot,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }\n    }, \"Forgot password?\")), __jsx(\"div\", {\n      className: `row ${loginModalStyles.signin}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 10\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }\n    }, __jsx(\"input\", {\n      onClick: this._processLogin,\n      type: \"submit\",\n      className: \"js-login button\",\n      value: \"Log In\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 12\n      }\n    }))), __jsx(\"div\", {\n      className: `row ${loginModalStyles.signinGovEvents}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 10\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }\n    }, __jsx(\"button\", {\n      onClick: this._processGovEventsLogin,\n      type: \"submit\",\n      className: \"js-login-govevents button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 12\n      }\n    }, __jsx(\"img\", {\n      src: \"/images/govevents-logo.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 110\n      }\n    }), \" \", __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 158\n      }\n    }, \"Log In with GovEvents\")))))))), __jsx(\"div\", {\n      className: `row ${loginModalStyles.sep}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 6\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 7\n      }\n    }, __jsx(\"img\", {\n      src: \"/images/continue-with.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 8\n      }\n    }))), __jsx(\"div\", {\n      className: `row ${loginModalStyles.socialBlock}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 6\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 7\n      }\n    }, __jsx(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 8\n      }\n    }, __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      \"data-close-modal\": true,\n      className: loginModalStyles.google,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 10\n      }\n    }, __jsx(\"img\", {\n      \"data-close-modal\": true,\n      className: loginModalStyles.social,\n      src: \"/images/login-google.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }\n    }))), __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      \"data-close-modal\": true,\n      className: loginModalStyles.fb,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 10\n      }\n    }, __jsx(\"img\", {\n      \"data-close-modal\": true,\n      className: loginModalStyles.social,\n      src: \"/images/login-fb.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    }))), __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      \"data-close-modal\": true,\n      className: loginModalStyles.linkedin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 10\n      }\n    }, __jsx(\"img\", {\n      \"data-close-modal\": true,\n      className: loginModalStyles.social,\n      src: \"/images/login-linkedin.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }\n    })))))), __jsx(\"div\", {\n      className: `row ${loginModalStyles.signUp}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 6\n      }\n    }, __jsx(\"div\", {\n      className: \"small-12 columns text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 7\n      }\n    }, __jsx(Link, {\n      href: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 8\n      }\n    }, __jsx(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      \"data-close-modal\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 10\n      }\n    }, __jsx(\"span\", {\n      \"data-close-modal\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }\n    }, \"Don't have an account?\"), \" Sign Up \", __jsx(\"img\", {\n      className: loginModalStyles.linkArrow,\n      \"data-close-modal\": true,\n      src: \"/images/right-arrow-blue.svg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 72\n      }\n    })))))))));\n  }\n\n}\n\nexport default LoginModal;","map":{"version":3,"sources":["/home/edward/Projects/gov/gwp-test/components/LoginModal.js"],"names":["loginModalStyles","Link","Cookies","LoginModal","React","Component","constructor","props","e","which","toggle","preventDefault","target","hasAttribute","button","govButton","json","url","login","emailField","passField","document","querySelector","checkValidity","classList","add","remove","JSON","stringify","state","email","pass","disabled","setState","working","fetch","method","body","headers","then","response","data","setTimeout","flat","includes","error","message","set","window","location","reload","console","log","open","wrap","handleChange","bind","event","name","getAttribute","value","componentDidUpdate","html","addEventListener","_handleEscape","_handleClick","removeEventListener","render","_renderModalClass","header","logo","close","hr","form","_forgotPassword","forgot","signin","_processLogin","signinGovEvents","_processGovEventsLogin","sep","socialBlock","google","social","fb","linkedin","signUp","linkArrow"],"mappings":";;;;;;AAAA,OAAOA,gBAAP,MAA6B,2DAA7B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,UAAN,SAAyBC,KAAK,CAACC,SAA/B,CAAyC;AAExCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,2CAmBFC,CAAD,IAAO;AACtB,UAAIA,CAAC,CAACC,KAAF,IAAW,EAAf,EAAmB;AAClB,aAAKF,KAAL,CAAWG,MAAX;AACA;AACD,KAvBkB;;AAAA,0CAyBHF,CAAD,IAAO;AACrBA,MAAAA,CAAC,CAACG,cAAF;;AACA,UAAIH,CAAC,CAACI,MAAF,CAASC,YAAT,CAAsB,kBAAtB,CAAJ,EAAgD;AAC/C,aAAKN,KAAL,CAAWG,MAAX;AACA;AACD,KA9BkB;;AAAA,6CAgCD,MAAM;AACvB,WAAKH,KAAL,CAAWG,MAAX;AACA,KAlCkB;;AAAA,2CAoCH,MAAM;AACrB,UAAII,MAAJ,EACEC,SADF,EAEEC,IAFF,EAGEC,GAHF,EAIEC,KAJF,EAKEC,UALF,EAMEC,SANF;AAQAD,MAAAA,UAAU,GAAGE,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAb;AACAF,MAAAA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAZ;;AACA,UAAI,CAACH,UAAU,CAACI,aAAX,EAAL,EAAiC;AAChCJ,QAAAA,UAAU,CAACK,SAAX,CAAqBC,GAArB,CAAyB,SAAzB;AACA,eAAO,KAAP;AACA,OAHD,MAGO;AACNN,QAAAA,UAAU,CAACK,SAAX,CAAqBE,MAArB,CAA4B,SAA5B;AACA;;AAED,UAAI,CAACN,SAAS,CAACG,aAAV,EAAL,EAAgC;AAC/BH,QAAAA,SAAS,CAACI,SAAV,CAAoBC,GAApB,CAAwB,SAAxB;AACA,eAAO,KAAP;AACA,OAHD,MAGO;AACNL,QAAAA,SAAS,CAACI,SAAV,CAAoBE,MAApB,CAA2B,SAA3B;AACA;;AAEDZ,MAAAA,MAAM,GAAGO,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAT;AACAP,MAAAA,SAAS,GAAGM,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAZ;AACAJ,MAAAA,KAAK,GAAG,IAAR;AACAD,MAAAA,GAAG,GAAG,+DAAN;AACAD,MAAAA,IAAI,GAAGW,IAAI,CAACC,SAAL,CAAe;AACrB,iBAAS,KAAKC,KAAL,CAAWC,KADC;AAErB,gBAAQ,KAAKD,KAAL,CAAWE;AAFE,OAAf,CAAP;AAKAjB,MAAAA,MAAM,CAACkB,QAAP,GAAkB,IAAlB;AACAjB,MAAAA,SAAS,CAACiB,QAAV,GAAqB,IAArB;AAEAd,MAAAA,KAAK,CAACe,QAAN,CAAe;AACdC,QAAAA,OAAO,EAAE;AADK,OAAf;AAIAC,MAAAA,KAAK,CAAClB,GAAD,EAAM;AACVmB,QAAAA,MAAM,EAAE,MADE;AAEVC,QAAAA,IAAI,EAAErB,IAFI;AAGVsB,QAAAA,OAAO,EAAE;AACR,0BAAgB;AADR;AAHC,OAAN,CAAL,CAMGC,IANH,CAMQ,UAASC,QAAT,EAAmB;AAC1B,eAAOA,QAAQ,CAACxB,IAAT,EAAP;AACA,OARD,EAQGuB,IARH,CAQQ,UAASE,IAAT,EAAe;AACtBC,QAAAA,UAAU,CAAE,UAASlC,CAAT,EAAY;AACvBM,UAAAA,MAAM,CAACkB,QAAP,GAAkB,KAAlB;AACAjB,UAAAA,SAAS,CAACiB,QAAV,GAAqB,KAArB;AACA,cAAIW,IAAI,GAAGhB,IAAI,CAACC,SAAL,CAAea,IAAf,CAAX;;AAEA,cAAIE,IAAI,CAACC,QAAL,CAAc,OAAd,CAAJ,EAA6B;AAC5B1B,YAAAA,KAAK,CAACe,QAAN,CAAe;AACdY,cAAAA,KAAK,EAAEJ,IAAI,CAACK,OADE;AAEdZ,cAAAA,OAAO,EAAE;AAFK,aAAf;AAKA,mBAAO,KAAP;AACA;;AAEDhC,UAAAA,OAAO,CAAC6C,GAAR,CAAY,MAAZ,EAAoBpB,IAAI,CAACC,SAAL,CAAea,IAAf,CAApB;AAEAvB,UAAAA,KAAK,CAACe,QAAN,CACC,OAAO;AACNY,YAAAA,KAAK,EAAE,EADD;AAENX,YAAAA,OAAO,EAAE,KAFH;AAGNJ,YAAAA,KAAK,EAAE,EAHD;AAINC,YAAAA,IAAI,EAAE;AAJA,WAAP,CADD,EAOC,MAAM;AACLb,YAAAA,KAAK,CAACX,KAAN,CAAYG,MAAZ;AACAsC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,WAVF;AAYA,SA5BS,EA4BP,IA5BO,CAAV;AA6BA,OAtCD;AAuCA,KApHkB;;AAAA,oDAsHM,MAAM;AAC9B,UAAIpC,MAAJ,EACEC,SADF,EAEEC,IAFF,EAGEC,GAHF,EAIEC,KAJF,EAKEC,UALF,EAMEC,SANF;AAQAD,MAAAA,UAAU,GAAGE,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAb;AACAF,MAAAA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAZ;;AACA,UAAI,CAACH,UAAU,CAACI,aAAX,EAAL,EAAiC;AAChCJ,QAAAA,UAAU,CAACK,SAAX,CAAqBC,GAArB,CAAyB,SAAzB;AACA,eAAO,KAAP;AACA,OAHD,MAGO;AACNN,QAAAA,UAAU,CAACK,SAAX,CAAqBE,MAArB,CAA4B,SAA5B;AACA;;AAED,UAAI,CAACN,SAAS,CAACG,aAAV,EAAL,EAAgC;AAC/BH,QAAAA,SAAS,CAACI,SAAV,CAAoBC,GAApB,CAAwB,SAAxB;AACA,eAAO,KAAP;AACA,OAHD,MAGO;AACNL,QAAAA,SAAS,CAACI,SAAV,CAAoBE,MAApB,CAA2B,SAA3B;AACA;;AAEDZ,MAAAA,MAAM,GAAGO,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAT;AACAP,MAAAA,SAAS,GAAGM,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAZ;AACAJ,MAAAA,KAAK,GAAG,IAAR;AACAD,MAAAA,GAAG,GAAG,kEAAN;AACAD,MAAAA,IAAI,GAAGW,IAAI,CAACC,SAAL,CAAe;AACrB,iBAAS,KAAKC,KAAL,CAAWC,KADC;AAErB,gBAAQ,KAAKD,KAAL,CAAWE;AAFE,OAAf,CAAP;AAKAjB,MAAAA,MAAM,CAACkB,QAAP,GAAkB,IAAlB;AACAjB,MAAAA,SAAS,CAACiB,QAAV,GAAqB,IAArB;AACAd,MAAAA,KAAK,CAACe,QAAN,CAAe;AACdC,QAAAA,OAAO,EAAE;AADK,OAAf;AAIAC,MAAAA,KAAK,CAAClB,GAAD,EAAM;AACVmB,QAAAA,MAAM,EAAE,MADE;AAEVC,QAAAA,IAAI,EAAErB,IAFI;AAGVsB,QAAAA,OAAO,EAAE;AACR,0BAAgB;AADR;AAHC,OAAN,CAAL,CAMGC,IANH,CAMQ,UAASC,QAAT,EAAmB;AAC1B,eAAOA,QAAQ,CAACxB,IAAT,EAAP;AACA,OARD,EAQGuB,IARH,CAQQ,UAASE,IAAT,EAAe;AACtBU,QAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;AACAC,QAAAA,UAAU,CAAE,UAASlC,CAAT,EAAY;AACvBM,UAAAA,MAAM,CAACkB,QAAP,GAAkB,KAAlB;AACAjB,UAAAA,SAAS,CAACiB,QAAV,GAAqB,KAArB;AACA,cAAIW,IAAI,GAAGhB,IAAI,CAACC,SAAL,CAAea,IAAf,CAAX;;AAEA,cAAIE,IAAI,CAACC,QAAL,CAAc,OAAd,CAAJ,EAA6B;AAC5B1B,YAAAA,KAAK,CAACe,QAAN,CAAe;AACdY,cAAAA,KAAK,EAAEJ,IAAI,CAACK,OADE;AAEdZ,cAAAA,OAAO,EAAE;AAFK,aAAf;AAKA,mBAAO,KAAP;AACA;;AAEDhC,UAAAA,OAAO,CAAC6C,GAAR,CAAY,MAAZ,EAAoBpB,IAAI,CAACC,SAAL,CAAea,IAAf,CAApB;AAEAvB,UAAAA,KAAK,CAACe,QAAN,CACC,OAAO;AACNY,YAAAA,KAAK,EAAE,EADD;AAENX,YAAAA,OAAO,EAAE,KAFH;AAGNJ,YAAAA,KAAK,EAAE,EAHD;AAINC,YAAAA,IAAI,EAAE;AAJA,WAAP,CADD,EAOC,MAAM;AACLb,YAAAA,KAAK,CAACX,KAAN,CAAYG,MAAZ;AACAsC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,WAVF;AAYA,SA5BS,EA4BP,IA5BO,CAAV;AA6BA,OAvCD;AAwCA,KAtMkB;;AAAA,+CA8NC,MAAM;AACzB,YAAM;AAACG,QAAAA;AAAD,UAAS,KAAK9C,KAApB;;AACA,UAAI8C,IAAJ,EAAW;AACV,eAAQ,GAAErD,gBAAgB,CAACsD,IAAK,IAAGtD,gBAAgB,CAACqD,IAAK,EAAzD;AACA,OAFD,MAEO;AACN,eAAQ,GAAErD,gBAAgB,CAACsD,IAAK,EAAhC;AACA;AACD,KArOkB;;AAElB,SAAKzB,KAAL,GAAa;AACZC,MAAAA,KAAK,EAAE,EADK;AAEZC,MAAAA,IAAI,EAAE,EAFM;AAGZc,MAAAA,KAAK,EAAE,EAHK;AAIZX,MAAAA,OAAO,EAAE;AAJG,KAAb;AAOA,SAAKqB,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA;;AAEDD,EAAAA,YAAY,CAACE,KAAD,EAAQ;AACnB,QAAIC,IAAI,GAAGD,KAAK,CAAC7C,MAAN,CAAa+C,YAAb,CAA0B,MAA1B,CAAX;AACA,SAAK1B,QAAL,CAAc;AACb,OAACyB,IAAD,GAAQD,KAAK,CAAC7C,MAAN,CAAagD;AADR,KAAd;AAGA;;AAuLDC,EAAAA,kBAAkB,GAAG;AACpB,UAAM;AAACR,MAAAA;AAAD,QAAS,KAAK9C,KAApB;AACA,UAAM;AAAC2B,MAAAA;AAAD,QAAY,KAAKL,KAAvB;AACA,QAAIiC,IAAI,GAAGzC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;;AACA,QAAI+B,IAAJ,EAAW;AACVL,MAAAA,MAAM,CAACe,gBAAP,CAAwB,SAAxB,EAAmC,KAAKC,aAAxC;AACAhB,MAAAA,MAAM,CAACe,gBAAP,CAAwB,OAAxB,EAAiC,KAAKE,YAAtC;AACAH,MAAAA,IAAI,CAACtC,SAAL,CAAeC,GAAf,CAAmB,cAAnB;AACA,KAJD,MAIO;AACNuB,MAAAA,MAAM,CAACkB,mBAAP,CAA2B,SAA3B,EAAsC,KAAKF,aAA3C;AACAhB,MAAAA,MAAM,CAACkB,mBAAP,CAA2B,OAA3B,EAAoC,KAAKD,YAAzC;AACAH,MAAAA,IAAI,CAACtC,SAAL,CAAeE,MAAf,CAAsB,cAAtB;AACA;;AAED,QAAIQ,OAAJ,EAAc;AACb4B,MAAAA,IAAI,CAACtC,SAAL,CAAeC,GAAf,CAAmB,SAAnB;AACA,KAFD,MAEO;AACNqC,MAAAA,IAAI,CAACtC,SAAL,CAAeE,MAAf,CAAsB,SAAtB;AACA;AAED;;AAWDyC,EAAAA,MAAM,GAAG;AACR,UAAM;AAACrC,MAAAA,KAAD;AAAOC,MAAAA,IAAP;AAAYc,MAAAA;AAAZ,QAAqB,KAAKhB,KAAhC;AACA,WACC,4BACA;AAAK,MAAA,SAAS,EAAE,KAAKuC,iBAAL,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC;AAAK,MAAA,SAAS,EAAG,OAAMpE,gBAAgB,CAACqE,MAAO,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAErE,gBAAgB,CAACsE,IAAjC;AAAuC,MAAA,GAAG,EAAC,kBAA3C;AAA8D,MAAA,GAAG,EAAC,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,EAKC;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AACC,MAAA,SAAS,EAAEtE,gBAAgB,CAACuE,KAD7B;AAEC,MAAA,OAAO,EAAE/D,CAAC,IAAI;AACb,aAAKD,KAAL,CAAWG,MAAX;AACA,OAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMC;AAAK,MAAA,GAAG,EAAC,mBAAT;AAA6B,MAAA,GAAG,EAAC,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,CADD,CALD,CAFD,EAmBC;AAAK,MAAA,SAAS,EAAG,GAAEV,gBAAgB,CAACkB,KAAM,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,EAEC;AAAK,MAAA,SAAS,EAAElB,gBAAgB,CAACwE,EAAjC;AAAqC,MAAA,GAAG,EAAC,iBAAzC;AAA2D,MAAA,GAAG,EAAC,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAHD,CADD,CADD,EASC;AAAK,MAAA,SAAS,EAAG,GAAExE,gBAAgB,CAACyE,IAAK,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACC;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,IAAI,EAAC,OAAzB;AAAiC,MAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWC,KAAnD;AAA0D,MAAA,QAAQ,EAAE,KAAKyB,YAAzE;AAAuF,MAAA,WAAW,EAAC,iBAAnG;AAAqH,MAAA,QAAQ,MAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,EAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACC;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,MAA5B;AAAmC,MAAA,QAAQ,EAAE,KAAKA,YAAlD;AAAgE,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWE,IAAlF;AAAwF,MAAA,WAAW,EAAC,oBAApG;AAAyH,MAAA,QAAQ,MAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAJD,EAOC;AAAK,MAAA,SAAS,EAAE/B,gBAAgB,CAAC6C,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKhB,KAAL,CAAWgB,KAAlB,CADD,CAPD,EAUC,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAG,MAAA,OAAO,EAAE,KAAK6B,eAAjB;AAAkC,MAAA,SAAS,EAAE1E,gBAAgB,CAAC2E,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,CAVD,EAcC;AAAK,MAAA,SAAS,EAAG,OAAM3E,gBAAgB,CAAC4E,MAAO,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAO,MAAA,OAAO,EAAE,KAAKC,aAArB;AAAoC,MAAA,IAAI,EAAC,QAAzC;AAAkD,MAAA,SAAS,EAAC,iBAA5D;AAA8E,MAAA,KAAK,EAAC,QAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CAdD,EAoBC;AAAK,MAAA,SAAS,EAAG,OAAM7E,gBAAgB,CAAC8E,eAAgB,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAQ,MAAA,OAAO,EAAE,KAAKC,sBAAtB;AAA8C,MAAA,IAAI,EAAC,QAAnD;AAA4D,MAAA,SAAS,EAAC,2BAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkG;AAAK,MAAA,GAAG,EAAC,4BAAT;AAAsC,MAAA,GAAG,EAAC,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlG,OAAkJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAlJ,CADD,CADD,CApBD,CADD,CADD,CADD,CATD,EA2CC;AAAK,MAAA,SAAS,EAAG,OAAM/E,gBAAgB,CAACgF,GAAI,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,GAAG,EAAC,2BAAT;AAAqC,MAAA,GAAG,EAAC,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CA3CD,EAiDC;AAAK,MAAA,SAAS,EAAG,OAAMhF,gBAAgB,CAACiF,WAAY,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAG,8BAAH;AAAoB,MAAA,SAAS,EAAEjF,gBAAgB,CAACkF,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,8BAAL;AAAsB,MAAA,SAAS,EAAElF,gBAAgB,CAACmF,MAAlD;AAA0D,MAAA,GAAG,EAAC,0BAA9D;AAAyF,MAAA,GAAG,EAAC,EAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CADD,EAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAG,8BAAH;AAAoB,MAAA,SAAS,EAAEnF,gBAAgB,CAACoF,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,8BAAL;AAAsB,MAAA,SAAS,EAAEpF,gBAAgB,CAACmF,MAAlD;AAA0D,MAAA,GAAG,EAAC,sBAA9D;AAAqF,MAAA,GAAG,EAAC,EAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CAND,EAWC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAG,8BAAH;AAAoB,MAAA,SAAS,EAAEnF,gBAAgB,CAACqF,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,8BAAL;AAAsB,MAAA,SAAS,EAAErF,gBAAgB,CAACmF,MAAlD;AAA0D,MAAA,GAAG,EAAC,4BAA9D;AAA2F,MAAA,GAAG,EAAC,EAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CAXD,CADD,CADD,CAjDD,EAuEC;AAAK,MAAA,SAAS,EAAG,OAAMnF,gBAAgB,CAACsF,MAAO,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAG,8BAAH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAM,8BAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADD,eAC8D;AAAK,MAAA,SAAS,EAAEtF,gBAAgB,CAACuF,SAAjC;AAA4C,8BAA5C;AAA6D,MAAA,GAAG,EAAC,8BAAjE;AAAgG,MAAA,GAAG,EAAC,EAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD9D,CADD,CADD,CADD,CADD,CAvED,CAnBD,CADA,CADD;AA4GA;;AAvVuC;;AA2VzC,eAAepF,UAAf","sourcesContent":["import loginModalStyles from '../public/styles/modules/components/loginmodal.module.css';\nimport Link from 'next/link';\nimport Cookies from 'js-cookie'\n\nclass LoginModal extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpass: '',\n\t\t\terror: '',\n\t\t\tworking: false,\n\t\t}\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tlet name = event.target.getAttribute('name');\n\t\tthis.setState({\n\t\t\t[name]: event.target.value\n\t\t});\n\t}\n\n\t_handleEscape = (e) => {\n\t\tif (e.which == 27) {\n\t\t\tthis.props.toggle();\n\t\t}\n\t}\n\n\t_handleClick = (e) => {\n\t\te.preventDefault();\n\t\tif( e.target.hasAttribute('data-close-modal') ) {\n\t\t\tthis.props.toggle();\n\t\t}\n\t}\n\n\t_forgotPassword = () => {\n\t\tthis.props.toggle();\n\t}\n\n\t_processLogin = () => {\n\t\tlet button,\n\t\t\t\tgovButton,\n\t\t\t\tjson,\n\t\t\t\turl,\n\t\t\t\tlogin,\n\t\t\t\temailField,\n\t\t\t\tpassField;\n\n\t\temailField = document.querySelector('input[name=\"email\"]');\n\t\tpassField = document.querySelector('input[name=\"pass\"]');\n\t\tif (!emailField.checkValidity()) {\n\t\t\temailField.classList.add('invalid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\temailField.classList.remove('invalid');\n\t\t}\n\n\t\tif (!passField.checkValidity()) {\n\t\t\tpassField.classList.add('invalid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\tpassField.classList.remove('invalid');\n\t\t}\n\n\t\tbutton = document.querySelector('.js-login');\n\t\tgovButton = document.querySelector('.js-login-govevents');\n\t\tlogin = this;\n\t\turl = 'https://gwpadmin.codewrangler.io/api/gwp/v1/manual-user-login';\n\t\tjson = JSON.stringify({\n\t\t\t\"email\": this.state.email,\n\t\t\t\"pass\": this.state.pass,\n\t\t});\n\n\t\tbutton.disabled = true;\n\t\tgovButton.disabled = true;\n\n\t\tlogin.setState({\n\t\t\tworking: true\n\t\t});\n\n\t\tfetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t}).then(function(response) {\n\t\t\treturn response.json();\n\t\t}).then(function(data) {\n\t\t\tsetTimeout( function(e) {\n\t\t\t\tbutton.disabled = false;\n\t\t\t\tgovButton.disabled = false;\n\t\t\t\tlet flat = JSON.stringify(data);\n\n\t\t\t\tif( flat.includes('error') ) {\n\t\t\t\t\tlogin.setState({\n\t\t\t\t\t\terror: data.message,\n\t\t\t\t\t\tworking: false\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tCookies.set('user', JSON.stringify(data));\n\n\t\t\t\tlogin.setState(\n\t\t\t\t\t() => ({\n\t\t\t\t\t\terror: '',\n\t\t\t\t\t\tworking: false,\n\t\t\t\t\t\temail: '',\n\t\t\t\t\t\tpass: ''\n\t\t\t\t\t}),\n\t\t\t\t\t() => {\n\t\t\t\t\t\tlogin.props.toggle();\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}, 1000 );\n\t\t});\n\t}\n\n\t_processGovEventsLogin = () => {\n\t\tlet button,\n\t\t\t\tgovButton,\n\t\t\t\tjson,\n\t\t\t\turl,\n\t\t\t\tlogin,\n\t\t\t\temailField,\n\t\t\t\tpassField;\n\n\t\temailField = document.querySelector('input[name=\"email\"]');\n\t\tpassField = document.querySelector('input[name=\"pass\"]');\n\t\tif (!emailField.checkValidity()) {\n\t\t\temailField.classList.add('invalid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\temailField.classList.remove('invalid');\n\t\t}\n\n\t\tif (!passField.checkValidity()) {\n\t\t\tpassField.classList.add('invalid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\tpassField.classList.remove('invalid');\n\t\t}\n\n\t\tbutton = document.querySelector('.js-login');\n\t\tgovButton = document.querySelector('.js-login-govevents');\n\t\tlogin = this;\n\t\turl = 'https://gwpadmin.codewrangler.io/api/gwp/v1/govevents-user-login';\n\t\tjson = JSON.stringify({\n\t\t\t\"email\": this.state.email,\n\t\t\t\"pass\": this.state.pass,\n\t\t});\n\n\t\tbutton.disabled = true;\n\t\tgovButton.disabled = true;\n\t\tlogin.setState({\n\t\t\tworking: true\n\t\t});\n\n\t\tfetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t}).then(function(response) {\n\t\t\treturn response.json();\n\t\t}).then(function(data) {\n\t\t\tconsole.log(data);\n\t\t\tsetTimeout( function(e) {\n\t\t\t\tbutton.disabled = false;\n\t\t\t\tgovButton.disabled = false;\n\t\t\t\tlet flat = JSON.stringify(data);\n\n\t\t\t\tif( flat.includes('error') ) {\n\t\t\t\t\tlogin.setState({\n\t\t\t\t\t\terror: data.message,\n\t\t\t\t\t\tworking: false\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tCookies.set('user', JSON.stringify(data));\n\n\t\t\t\tlogin.setState(\n\t\t\t\t\t() => ({\n\t\t\t\t\t\terror: '',\n\t\t\t\t\t\tworking: false,\n\t\t\t\t\t\temail: '',\n\t\t\t\t\t\tpass: ''\n\t\t\t\t\t}),\n\t\t\t\t\t() => {\n\t\t\t\t\t\tlogin.props.toggle();\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}, 1000 );\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst {open} = this.props;\n\t\tconst {working} = this.state;\n\t\tlet html = document.querySelector('html');\n\t\tif( open ) {\n\t\t\twindow.addEventListener('keydown', this._handleEscape );\n\t\t\twindow.addEventListener('click', this._handleClick );\n\t\t\thtml.classList.add('active-modal');\n\t\t} else {\n\t\t\twindow.removeEventListener('keydown', this._handleEscape );\n\t\t\twindow.removeEventListener('click', this._handleClick );\n\t\t\thtml.classList.remove('active-modal');\n\t\t}\n\n\t\tif( working ) {\n\t\t\thtml.classList.add('working');\n\t\t} else {\n\t\t\thtml.classList.remove('working');\n\t\t}\n\n\t}\n\n\t_renderModalClass = () => {\n\t\tconst {open} = this.props;\n\t\tif( open ) {\n\t\t\treturn `${loginModalStyles.wrap} ${loginModalStyles.open}`;\n\t\t} else {\n\t\t\treturn `${loginModalStyles.wrap}`\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {email,pass,error} = this.state;\n\t\treturn(\n\t\t\t<>\n\t\t\t<div className={this._renderModalClass()}>\n\n\t\t\t\t<div className={`row ${loginModalStyles.header}`}>\n\t\t\t\t\t<div className=\"small-6 columns\">\n\t\t\t\t\t\t<img className={loginModalStyles.logo} src=\"/images/logo.svg\" alt=\"\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"small-6 columns text-right\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={loginModalStyles.close}\n\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\tthis.props.toggle();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src=\"/images/close.svg\" alt=\"\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={`${loginModalStyles.login}`}>\n\t\t\t\t\t<div className=\"row text-center\">\n\t\t\t\t\t\t<div className=\"small-12 columns\">\n\t\t\t\t\t\t\t<h2>Welcome</h2>\n\t\t\t\t\t\t\t<img className={loginModalStyles.hr} src=\"/images/sep.svg\" alt=\"\" />\n\t\t\t\t\t\t\t<p>Sign in to access GovWhitePapers.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={`${loginModalStyles.form}`}>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"small-12 columns\">\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<label>Email Address\n\t\t\t\t\t\t\t\t\t\t<input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} placeholder=\"Type your email\" required />\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<label>Password\n\t\t\t\t\t\t\t\t\t\t<input type=\"password\" name=\"pass\" onChange={this.handleChange} value={this.state.pass} placeholder=\"Type your password\" required />\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className={loginModalStyles.error}>\n\t\t\t\t\t\t\t\t\t\t<span>{this.state.error}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Link href=\"/password-reset\">\n\t\t\t\t\t\t\t\t\t\t<a onClick={this._forgotPassword} className={loginModalStyles.forgot}>Forgot password?</a>\n\t\t\t\t\t\t\t\t\t</Link>\n\n\t\t\t\t\t\t\t\t\t<div className={`row ${loginModalStyles.signin}`}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"small-12 columns text-center\">\n\t\t\t\t\t\t\t\t\t\t\t<input onClick={this._processLogin} type=\"submit\" className=\"js-login button\" value=\"Log In\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className={`row ${loginModalStyles.signinGovEvents}`}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"small-12 columns text-center\">\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={this._processGovEventsLogin} type=\"submit\" className=\"js-login-govevents button\"><img src=\"/images/govevents-logo.png\" alt=\"\" /> <span>Log In with GovEvents</span></button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={`row ${loginModalStyles.sep}`}>\n\t\t\t\t\t\t<div className=\"small-12 columns text-center\">\n\t\t\t\t\t\t\t<img src=\"/images/continue-with.png\" alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={`row ${loginModalStyles.socialBlock}`}>\n\t\t\t\t\t\t<div className=\"small-12 columns text-center\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a data-close-modal className={loginModalStyles.google}>\n\t\t\t\t\t\t\t\t\t\t<img data-close-modal className={loginModalStyles.social} src=\"/images/login-google.png\" alt=\"\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a data-close-modal className={loginModalStyles.fb}>\n\t\t\t\t\t\t\t\t\t\t<img data-close-modal className={loginModalStyles.social} src=\"/images/login-fb.png\" alt=\"\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a data-close-modal className={loginModalStyles.linkedin}>\n\t\t\t\t\t\t\t\t\t\t<img data-close-modal className={loginModalStyles.social} src=\"/images/login-linkedin.png\" alt=\"\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={`row ${loginModalStyles.signUp}`}>\n\t\t\t\t\t\t<div className=\"small-12 columns text-center\">\n\t\t\t\t\t\t\t<Link href=\"/register\">\n\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t<a data-close-modal>\n\t\t\t\t\t\t\t\t\t\t<span data-close-modal>Don't have an account?</span> Sign Up <img className={loginModalStyles.linkArrow} data-close-modal src=\"/images/right-arrow-blue.svg\" alt=\"\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n}\n\nexport default LoginModal;\n"]},"metadata":{},"sourceType":"module"}