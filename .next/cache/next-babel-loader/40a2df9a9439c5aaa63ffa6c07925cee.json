{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport WordpressService from '../services/wordpress';\nimport WhitePaperCard from '../components/WhitePaperCard';\nimport { decodeHTML } from 'entities';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport ProfileSidebar from '../components/ProfileSidebar';\nimport profileStyles from '../public/styles/modules/profile.module.css';\n\nclass Favorites extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"_renderNoResults\", () => {\n      if (this.state.no_results) {\n        return __jsx(\"div\", {\n          className: profileStyles.noResults\n        }, __jsx(\"h4\", {\n          className: \"text-center\"\n        }, \"No favorites added.\"));\n      } else {\n        return null;\n      }\n    });\n\n    this.state = {\n      whitepapers: []\n    };\n  }\n\n  async componentDidMount() {\n    if (!this.props.user) {\n      Router.push('/login');\n      return false;\n    }\n\n    const wordpress = new WordpressService();\n    const {\n      access_token\n    } = this.props.user;\n    let items = 100;\n    let offset = 0;\n    const whitepapers = await wordpress.fetchFavorites(access_token, items, offset);\n    this.setState({\n      whitepapers: whitepapers\n    }, () => {\n      if (this.state.whitepapers.length < 1) {\n        this.setState(state => ({\n          no_results: true\n        }));\n      }\n    });\n  }\n\n  render() {\n    const display_name = this.props.display_name;\n    const {\n      user\n    } = this.props;\n    const {\n      whitepapers\n    } = this.state;\n    return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n      key: \"page-title\"\n    }, \"Favorites\"), __jsx(\"meta\", {\n      charset: \"utf-8\"\n    }), __jsx(\"link\", {\n      rel: \"apple-touch-icon\",\n      sizes: \"180x180\",\n      href: \"/apple-touch-icon.png\"\n    }), __jsx(\"link\", {\n      rel: \"icon\",\n      type: \"image/png\",\n      sizes: \"32x32\",\n      href: \"/favicon-32x32.png\"\n    }), __jsx(\"link\", {\n      rel: \"icon\",\n      type: \"image/png\",\n      sizes: \"16x16\",\n      href: \"/favicon-16x16.png\"\n    }), __jsx(\"meta\", {\n      name: \"msapplication-TileImage\",\n      content: \"/favicon-270x270.png\"\n    }), __jsx(\"meta\", {\n      name: \"msapplication-TileColor\",\n      content: \"#ffffff\"\n    }), __jsx(\"link\", {\n      rel: \"manifest\",\n      href: \"/site.webmanifest\"\n    })), __jsx(Header, _extends({}, user, {\n      display_name: display_name\n    })), __jsx(\"div\", {\n      className: `row ${profileStyles.pageContent} ${profileStyles.favorites}`\n    }, __jsx(\"div\", {\n      className: `small-12 medium-4 xlarge-3 columns`\n    }, __jsx(ProfileSidebar, {\n      organization_id: this.props.organization_id,\n      organization_email_mismatch: this.props.organization_email_mismatch,\n      organization_email_verified: this.props.organization_email_verified\n    })), __jsx(\"div\", {\n      className: `small-12 medium-8 xlarge-9 columns ${profileStyles.content}`\n    }, __jsx(\"div\", {\n      className: profileStyles.heading\n    }, __jsx(\"h2\", null, \"Saved Favorites\")), __jsx(\"div\", {\n      className: \"small-up-1 large-up-2 clearfix\"\n    }, this._renderNoResults(), whitepapers.map(whitepaper => __jsx(\"div\", {\n      key: whitepaper.ID,\n      className: `column column-block`\n    }, __jsx(WhitePaperCard, {\n      id: whitepaper.ID,\n      slug: whitepaper.slug,\n      title: decodeHTML(whitepaper.title),\n      featured_media: whitepaper.featured_media,\n      hide_image: true,\n      excerpt: decodeHTML(whitepaper.excerpt),\n      topics: whitepaper.topics\n    })))))), __jsx(Footer, null));\n  }\n\n}\n\nexport default Favorites;","map":null,"metadata":{},"sourceType":"module"}