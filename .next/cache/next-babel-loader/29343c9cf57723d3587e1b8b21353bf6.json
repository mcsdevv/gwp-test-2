{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport fetch from 'isomorphic-unfetch';\nvar apiURL = 'https://gwpadmin.codewrangler.io/api/gwp/v1';\n\nvar WordpressService = /*#__PURE__*/function () {\n  function WordpressService() {\n    _classCallCheck(this, WordpressService);\n  }\n\n  _createClass(WordpressService, [{\n    key: \"fetchWhitepapers\",\n    value: function () {\n      var _fetchWhitepapers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(items, offset) {\n        var topics,\n            tags,\n            format,\n            agencies,\n            search,\n            start_date,\n            end_date,\n            sort_by,\n            user_id,\n            organization_id,\n            res,\n            whitepapers,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                topics = _args.length > 2 && _args[2] !== undefined ? _args[2] : [];\n                tags = _args.length > 3 && _args[3] !== undefined ? _args[3] : [];\n                format = _args.length > 4 && _args[4] !== undefined ? _args[4] : '';\n                agencies = _args.length > 5 && _args[5] !== undefined ? _args[5] : [];\n                search = _args.length > 6 && _args[6] !== undefined ? _args[6] : '';\n                start_date = _args.length > 7 && _args[7] !== undefined ? _args[7] : '';\n                end_date = _args.length > 8 && _args[8] !== undefined ? _args[8] : '';\n                sort_by = _args.length > 9 && _args[9] !== undefined ? _args[9] : 'relevance';\n                user_id = _args.length > 10 && _args[10] !== undefined ? _args[10] : '';\n                organization_id = _args.length > 11 && _args[11] !== undefined ? _args[11] : '';\n                _context.next = 12;\n                return fetch(\"\".concat(apiURL, \"/whitepapers/?items=\").concat(items, \"&offset=\").concat(offset, \"&topics=\").concat(topics, \"&tags=\").concat(tags, \"&format=\").concat(format, \"&agencies=\").concat(agencies, \"&s=\").concat(search, \"&start_date=\").concat(start_date, \"&end_date=\").concat(end_date, \"&sort_by=\").concat(sort_by, \"&user_id=\").concat(user_id, \"&organization_id=\").concat(organization_id));\n\n              case 12:\n                res = _context.sent;\n                _context.next = 15;\n                return res.json();\n\n              case 15:\n                whitepapers = _context.sent;\n                return _context.abrupt(\"return\", whitepapers);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function fetchWhitepapers(_x, _x2) {\n        return _fetchWhitepapers.apply(this, arguments);\n      }\n\n      return fetchWhitepapers;\n    }()\n  }, {\n    key: \"fetchSavedSearch\",\n    value: function () {\n      var _fetchSavedSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n        var res, search;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"\".concat(apiURL, \"/saved-search/\").concat(id));\n\n              case 2:\n                res = _context2.sent;\n                _context2.next = 5;\n                return res.json();\n\n              case 5:\n                search = _context2.sent;\n                return _context2.abrupt(\"return\", search);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function fetchSavedSearch(_x3) {\n        return _fetchSavedSearch.apply(this, arguments);\n      }\n\n      return fetchSavedSearch;\n    }()\n  }, {\n    key: \"fetchSavedSearches\",\n    value: function () {\n      var _fetchSavedSearches = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user_id, access_token) {\n        var url, json, res, saved_searches;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = \"\".concat(apiURL, \"/saved-searches/\");\n                json = JSON.stringify({\n                  \"access_token\": access_token,\n                  \"user_id\": user_id\n                });\n                _context3.next = 4;\n                return fetch(url, {\n                  method: 'post',\n                  body: json,\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n\n              case 4:\n                res = _context3.sent;\n                _context3.next = 7;\n                return res.json();\n\n              case 7:\n                saved_searches = _context3.sent;\n                return _context3.abrupt(\"return\", saved_searches);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function fetchSavedSearches(_x4, _x5) {\n        return _fetchSavedSearches.apply(this, arguments);\n      }\n\n      return fetchSavedSearches;\n    }()\n  }, {\n    key: \"fetchWhitepaper\",\n    value: function () {\n      var _fetchWhitepaper = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(slug) {\n        var res, whitepaper;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return fetch(\"\".concat(apiURL, \"/whitepapers/\").concat(slug));\n\n              case 2:\n                res = _context4.sent;\n                _context4.next = 5;\n                return res.json();\n\n              case 5:\n                whitepaper = _context4.sent;\n                return _context4.abrupt(\"return\", whitepaper);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function fetchWhitepaper(_x6) {\n        return _fetchWhitepaper.apply(this, arguments);\n      }\n\n      return fetchWhitepaper;\n    }()\n  }, {\n    key: \"fetchPosts\",\n    value: function () {\n      var _fetchPosts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(items, offset) {\n        var search,\n            res,\n            posts,\n            _args5 = arguments;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                search = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : '';\n                _context5.next = 3;\n                return fetch(\"\".concat(apiURL, \"/posts/?items=\").concat(items, \"&offset=\").concat(offset, \"&s=\").concat(search));\n\n              case 3:\n                res = _context5.sent;\n                _context5.next = 6;\n                return res.json();\n\n              case 6:\n                posts = _context5.sent;\n                return _context5.abrupt(\"return\", posts);\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function fetchPosts(_x7, _x8) {\n        return _fetchPosts.apply(this, arguments);\n      }\n\n      return fetchPosts;\n    }()\n  }, {\n    key: \"fetchSlides\",\n    value: function () {\n      var _fetchSlides = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var res, slides;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return fetch(\"\".concat(apiURL, \"/slides\"));\n\n              case 2:\n                res = _context6.sent;\n                _context6.next = 5;\n                return res.json();\n\n              case 5:\n                slides = _context6.sent;\n                return _context6.abrupt(\"return\", slides);\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function fetchSlides() {\n        return _fetchSlides.apply(this, arguments);\n      }\n\n      return fetchSlides;\n    }()\n  }, {\n    key: \"fetchPost\",\n    value: function () {\n      var _fetchPost = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(slug) {\n        var res, post;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return fetch(\"\".concat(apiURL, \"/posts/\").concat(slug));\n\n              case 2:\n                res = _context7.sent;\n                _context7.next = 5;\n                return res.json();\n\n              case 5:\n                post = _context7.sent;\n                return _context7.abrupt(\"return\", post);\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function fetchPost(_x9) {\n        return _fetchPost.apply(this, arguments);\n      }\n\n      return fetchPost;\n    }()\n  }, {\n    key: \"fetchPage\",\n    value: function () {\n      var _fetchPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(slug) {\n        var res, page;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return fetch(\"\".concat(apiURL, \"/pages/\").concat(slug));\n\n              case 2:\n                res = _context8.sent;\n                _context8.next = 5;\n                return res.json();\n\n              case 5:\n                page = _context8.sent;\n                return _context8.abrupt(\"return\", page);\n\n              case 7:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function fetchPage(_x10) {\n        return _fetchPage.apply(this, arguments);\n      }\n\n      return fetchPage;\n    }()\n  }, {\n    key: \"fetchFormats\",\n    value: function () {\n      var _fetchFormats = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var res, formats;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return fetch(\"\".concat(apiURL, \"/formats/\"));\n\n              case 2:\n                res = _context9.sent;\n                _context9.next = 5;\n                return res.json();\n\n              case 5:\n                formats = _context9.sent;\n                return _context9.abrupt(\"return\", formats);\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function fetchFormats() {\n        return _fetchFormats.apply(this, arguments);\n      }\n\n      return fetchFormats;\n    }()\n  }, {\n    key: \"fetchTopics\",\n    value: function () {\n      var _fetchTopics = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        var res, topics;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return fetch(\"\".concat(apiURL, \"/topics/\"));\n\n              case 2:\n                res = _context10.sent;\n                _context10.next = 5;\n                return res.json();\n\n              case 5:\n                topics = _context10.sent;\n                return _context10.abrupt(\"return\", topics);\n\n              case 7:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function fetchTopics() {\n        return _fetchTopics.apply(this, arguments);\n      }\n\n      return fetchTopics;\n    }()\n  }, {\n    key: \"fetchTopic\",\n    value: function () {\n      var _fetchTopic = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(slug) {\n        var res, topic;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return fetch(\"\".concat(apiURL, \"/topic/\").concat(slug));\n\n              case 2:\n                res = _context11.sent;\n                _context11.next = 5;\n                return res.json();\n\n              case 5:\n                topic = _context11.sent;\n                return _context11.abrupt(\"return\", topic);\n\n              case 7:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function fetchTopic(_x11) {\n        return _fetchTopic.apply(this, arguments);\n      }\n\n      return fetchTopic;\n    }()\n  }, {\n    key: \"fetchTags\",\n    value: function () {\n      var _fetchTags = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n        var res, tags;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return fetch(\"\".concat(apiURL, \"/tags/\"));\n\n              case 2:\n                res = _context12.sent;\n                _context12.next = 5;\n                return res.json();\n\n              case 5:\n                tags = _context12.sent;\n                return _context12.abrupt(\"return\", tags);\n\n              case 7:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n\n      function fetchTags() {\n        return _fetchTags.apply(this, arguments);\n      }\n\n      return fetchTags;\n    }()\n  }, {\n    key: \"fetchStats\",\n    value: function () {\n      var _fetchStats = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13() {\n        var res, stats;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return fetch(\"\".concat(apiURL, \"/fetch-stats/\"));\n\n              case 2:\n                res = _context13.sent;\n                _context13.next = 5;\n                return res.json();\n\n              case 5:\n                stats = _context13.sent;\n                return _context13.abrupt(\"return\", stats);\n\n              case 7:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }));\n\n      function fetchStats() {\n        return _fetchStats.apply(this, arguments);\n      }\n\n      return fetchStats;\n    }()\n  }, {\n    key: \"fetchTeam\",\n    value: function () {\n      var _fetchTeam = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14() {\n        var res, team;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return fetch(\"\".concat(apiURL, \"/team/\"));\n\n              case 2:\n                res = _context14.sent;\n                _context14.next = 5;\n                return res.json();\n\n              case 5:\n                team = _context14.sent;\n                return _context14.abrupt(\"return\", team);\n\n              case 7:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      function fetchTeam() {\n        return _fetchTeam.apply(this, arguments);\n      }\n\n      return fetchTeam;\n    }()\n  }, {\n    key: \"fetchAgencies\",\n    value: function () {\n      var _fetchAgencies = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(parent) {\n        var res, agencies;\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                if (!(parent == '')) {\n                  _context15.next = 6;\n                  break;\n                }\n\n                _context15.next = 3;\n                return fetch(\"\".concat(apiURL, \"/agencies/?orderby=name\"));\n\n              case 3:\n                res = _context15.sent;\n                _context15.next = 9;\n                break;\n\n              case 6:\n                _context15.next = 8;\n                return fetch(\"\".concat(apiURL, \"/agencies/?parent=\").concat(parent));\n\n              case 8:\n                res = _context15.sent;\n\n              case 9:\n                _context15.next = 11;\n                return res.json();\n\n              case 11:\n                agencies = _context15.sent;\n                return _context15.abrupt(\"return\", agencies);\n\n              case 13:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }));\n\n      function fetchAgencies(_x12) {\n        return _fetchAgencies.apply(this, arguments);\n      }\n\n      return fetchAgencies;\n    }()\n  }, {\n    key: \"searchOrganizations\",\n    value: function () {\n      var _searchOrganizations = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(search) {\n        var items,\n            res,\n            orgs,\n            _args16 = arguments;\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                items = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : 10;\n\n                if (!(search == '')) {\n                  _context16.next = 3;\n                  break;\n                }\n\n                return _context16.abrupt(\"return\", []);\n\n              case 3:\n                _context16.next = 5;\n                return fetch(\"\".concat(apiURL, \"/organizations/?search=\").concat(search, \"&items=\").concat(items));\n\n              case 5:\n                res = _context16.sent;\n                _context16.next = 8;\n                return res.json();\n\n              case 8:\n                orgs = _context16.sent;\n                return _context16.abrupt(\"return\", orgs);\n\n              case 10:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      function searchOrganizations(_x13) {\n        return _searchOrganizations.apply(this, arguments);\n      }\n\n      return searchOrganizations;\n    }()\n  }, {\n    key: \"fetchOrganization\",\n    value: function () {\n      var _fetchOrganization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(id) {\n        var res, org;\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                if (!(id == '')) {\n                  _context17.next = 2;\n                  break;\n                }\n\n                return _context17.abrupt(\"return\", false);\n\n              case 2:\n                _context17.next = 4;\n                return fetch(\"\".concat(apiURL, \"/organizations/\").concat(id));\n\n              case 4:\n                res = _context17.sent;\n                _context17.next = 7;\n                return res.json();\n\n              case 7:\n                org = _context17.sent;\n                return _context17.abrupt(\"return\", org);\n\n              case 9:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17);\n      }));\n\n      function fetchOrganization(_x14) {\n        return _fetchOrganization.apply(this, arguments);\n      }\n\n      return fetchOrganization;\n    }()\n  }, {\n    key: \"fetchFavorites\",\n    value: function () {\n      var _fetchFavorites = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(access_token, items, offset) {\n        var url, json, res, whitepapers;\n        return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                url = \"\".concat(apiURL, \"/favorites/\");\n                json = JSON.stringify({\n                  \"access_token\": access_token,\n                  \"items\": items,\n                  \"offset\": offset\n                });\n                _context18.next = 4;\n                return fetch(url, {\n                  method: 'post',\n                  body: json,\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n\n              case 4:\n                res = _context18.sent;\n                _context18.next = 7;\n                return res.json();\n\n              case 7:\n                whitepapers = _context18.sent;\n                return _context18.abrupt(\"return\", whitepapers);\n\n              case 9:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18);\n      }));\n\n      function fetchFavorites(_x15, _x16, _x17) {\n        return _fetchFavorites.apply(this, arguments);\n      }\n\n      return fetchFavorites;\n    }()\n  }, {\n    key: \"fetchOrganizationMembers\",\n    value: function () {\n      var _fetchOrganizationMembers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(access_token) {\n        var url, json, res, members;\n        return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                url = \"\".concat(apiURL, \"/organization-members/\");\n                json = JSON.stringify({\n                  \"access_token\": access_token\n                });\n                _context19.next = 4;\n                return fetch(url, {\n                  method: 'post',\n                  body: json,\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n\n              case 4:\n                res = _context19.sent;\n                _context19.next = 7;\n                return res.json();\n\n              case 7:\n                members = _context19.sent;\n                return _context19.abrupt(\"return\", members);\n\n              case 9:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19);\n      }));\n\n      function fetchOrganizationMembers(_x18) {\n        return _fetchOrganizationMembers.apply(this, arguments);\n      }\n\n      return fetchOrganizationMembers;\n    }()\n  }, {\n    key: \"checkFavorite\",\n    value: function () {\n      var _checkFavorite = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(id, token) {\n        var url, json, res, r;\n        return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                //\tconst res = await fetch(`${apiURL}/is-favorite/`)\n                url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/is-favorite';\n                json = JSON.stringify({\n                  \"ID\": id,\n                  \"access_token\": token\n                });\n                _context20.next = 4;\n                return fetch(url, {\n                  method: 'post',\n                  body: json,\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n\n              case 4:\n                res = _context20.sent;\n                _context20.next = 7;\n                return res.json();\n\n              case 7:\n                r = _context20.sent;\n                return _context20.abrupt(\"return\", r);\n\n              case 9:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20);\n      }));\n\n      function checkFavorite(_x19, _x20) {\n        return _checkFavorite.apply(this, arguments);\n      }\n\n      return checkFavorite;\n    }()\n  }, {\n    key: \"getUser\",\n    value: function () {\n      var _getUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(token) {\n        var url, json, res, r;\n        return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                if (token) {\n                  _context21.next = 2;\n                  break;\n                }\n\n                return _context21.abrupt(\"return\", false);\n\n              case 2:\n                url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/user';\n                json = JSON.stringify({\n                  \"access_token\": token\n                });\n                _context21.next = 6;\n                return fetch(url, {\n                  method: 'post',\n                  body: json,\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n\n              case 6:\n                res = _context21.sent;\n                _context21.next = 9;\n                return res.json();\n\n              case 9:\n                r = _context21.sent;\n                return _context21.abrupt(\"return\", r);\n\n              case 11:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21);\n      }));\n\n      function getUser(_x21) {\n        return _getUser.apply(this, arguments);\n      }\n\n      return getUser;\n    }() // async fetchHomeSlides() {\n    // \tconst res = await fetch(`${apiURL}/home-slides?items=4`)\n    // \tconst slides = await res.json()\n    //\n    // \treturn slides\n    // }\n\n  }]);\n\n  return WordpressService;\n}();\n\nexport { WordpressService as default };","map":{"version":3,"sources":["/home/edward/Projects/gov/gwp-test/services/wordpress.js"],"names":["fetch","apiURL","WordpressService","items","offset","topics","tags","format","agencies","search","start_date","end_date","sort_by","user_id","organization_id","res","json","whitepapers","id","access_token","url","JSON","stringify","method","body","headers","saved_searches","slug","whitepaper","posts","slides","post","page","formats","topic","stats","team","parent","orgs","org","members","token","r"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch'\n\nconst apiURL = 'https://gwpadmin.codewrangler.io/api/gwp/v1';\n\nexport default class WordpressService {\n\n\tasync fetchWhitepapers(\n\t\t\titems,\n\t\t\toffset,\n\t\t\ttopics = [],\n\t\t\ttags = [],\n\t\t\tformat = '',\n\t\t\tagencies = [],\n\t\t\tsearch = '',\n\t\t\tstart_date = '',\n\t\t\tend_date = '',\n\t\t\tsort_by = 'relevance',\n\t\t\tuser_id = '',\n\t\t\torganization_id = ''\n\t\t)\n\t{\n\t\tconst res = await fetch(`${apiURL}/whitepapers/?items=${items}&offset=${offset}&topics=${topics}&tags=${tags}&format=${format}&agencies=${agencies}&s=${search}&start_date=${start_date}&end_date=${end_date}&sort_by=${sort_by}&user_id=${user_id}&organization_id=${organization_id}`)\n\t\tconst whitepapers = await res.json()\n\n\t\treturn whitepapers;\n\t}\n\n\tasync fetchSavedSearch(id) {\n\t\tconst res = await fetch(`${apiURL}/saved-search/${id}`)\n\t\tconst search = await res.json()\n\t\treturn search;\n\t}\n\n\tasync fetchSavedSearches( user_id, access_token ) {\n\t\tconst url = `${apiURL}/saved-searches/`\n\n\t\tconst json = JSON.stringify({\n\t\t\t\"access_token\": access_token,\n\t\t\t\"user_id\": user_id,\n\t\t});\n\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t});\n\n\t\tconst saved_searches = await res.json()\n\n\t\treturn saved_searches;\n\t}\n\n\tasync fetchWhitepaper(slug) {\n\t\tconst res = await fetch(`${apiURL}/whitepapers/${slug}`)\n\t\tconst whitepaper = await res.json()\n\t\treturn whitepaper;\n\t}\n\n\tasync fetchPosts(items,offset,search = '') {\n\t\tconst res = await fetch(`${apiURL}/posts/?items=${items}&offset=${offset}&s=${search}`)\n\t\tconst posts = await res.json()\n\n\t\treturn posts;\n\t}\n\n\tasync fetchSlides() {\n\t\tconst res = await fetch(`${apiURL}/slides`)\n\t\tconst slides = await res.json()\n\n\t\treturn slides;\n\t}\n\n\tasync fetchPost(slug) {\n\t\tconst res = await fetch(`${apiURL}/posts/${slug}`)\n\t\tconst post = await res.json()\n\t\treturn post;\n\t}\n\n\tasync fetchPage(slug) {\n\t\tconst res = await fetch(`${apiURL}/pages/${slug}`)\n\t\tconst page = await res.json()\n\t\treturn page;\n\t}\n\n\tasync fetchFormats() {\n\t\tconst res = await fetch(`${apiURL}/formats/`)\n\t\tconst formats = await res.json()\n\n\t\treturn formats;\n\t}\n\n\tasync fetchTopics() {\n\t\tconst res = await fetch(`${apiURL}/topics/`)\n\t\tconst topics = await res.json()\n\n\t\treturn topics;\n\t}\n\n\tasync fetchTopic(slug) {\n\t\tconst res = await fetch(`${apiURL}/topic/${slug}`)\n\t\tconst topic = await res.json()\n\t\treturn topic;\n\t}\n\n\tasync fetchTags() {\n\t\tconst res = await fetch(`${apiURL}/tags/`)\n\t\tconst tags = await res.json()\n\n\t\treturn tags;\n\t}\n\n\tasync fetchStats() {\n\t\tconst res = await fetch(`${apiURL}/fetch-stats/`)\n\t\tconst stats = await res.json()\n\n\t\treturn stats;\n\t}\n\n\tasync fetchTeam() {\n\t\tconst res = await fetch(`${apiURL}/team/`)\n\t\tconst team = await res.json()\n\n\t\treturn team;\n\t}\n\n\tasync fetchAgencies(parent) {\n\t\tlet res;\n\t\tif( parent == '' ) {\n\t\t\tres = await fetch(`${apiURL}/agencies/?orderby=name`)\n\t\t} else {\n\t\t\tres = await fetch(`${apiURL}/agencies/?parent=${parent}`)\n\t\t}\n\t\tconst agencies = await res.json()\n\n\t\treturn agencies;\n\t}\n\n\tasync searchOrganizations(search, items = 10) {\n\t\tif( search == '' ) {\n\t\t\treturn []\n\t\t}\n\t\tconst res = await fetch(`${apiURL}/organizations/?search=${search}&items=${items}`)\n\t\tconst orgs = await res.json()\n\n\t\treturn orgs;\n\t}\n\n\tasync fetchOrganization(id) {\n\t\tif( id == '' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst res = await fetch(`${apiURL}/organizations/${id}`)\n\t\tconst org = await res.json()\n\n\t\treturn org;\n\t}\n\n\tasync fetchFavorites(access_token,items,offset) {\n\n\t\tconst url = `${apiURL}/favorites/`\n\n\t\tconst json = JSON.stringify({\n\t\t\t\"access_token\": access_token,\n\t\t\t\"items\": items,\n\t\t\t\"offset\": offset\n\t\t});\n\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t});\n\n\t\tconst whitepapers = await res.json()\n\n\t\treturn whitepapers;\n\t}\n\n\tasync fetchOrganizationMembers(access_token) {\n\n\t\tconst url = `${apiURL}/organization-members/`\n\t\tconst json = JSON.stringify({\n\t\t\t\"access_token\": access_token,\n\t\t});\n\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t});\n\n\t\tconst members = await res.json()\n\n\t\treturn members;\n\t}\n\n\tasync checkFavorite(id,token) {\n\t//\tconst res = await fetch(`${apiURL}/is-favorite/`)\n\t\tconst url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/is-favorite';\n\t\tconst json = JSON.stringify({\n\t\t\t\"ID\": id,\n\t\t\t\"access_token\": token\n\t\t});\n\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t});\n\n\t\tconst r = await res.json()\n\n\t\treturn r;\n\t}\n\n\tasync getUser(token) {\n\n\t\tif( !token ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst url = 'https://gwpadmin.codewrangler.io/api/gwp/v1/user';\n\t\tconst json = JSON.stringify({\n\t\t\t\"access_token\": token\n\t\t});\n\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: 'post',\n\t\t\tbody: json,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t});\n\n\t\tconst r = await res.json()\n\n\t\treturn r;\n\t}\n\n\t// async fetchHomeSlides() {\n\t// \tconst res = await fetch(`${apiURL}/home-slides?items=4`)\n\t// \tconst slides = await res.json()\n\t//\n\t// \treturn slides\n\t// }\n\n}\n"]},"metadata":{},"sourceType":"module"}